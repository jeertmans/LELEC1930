\usepackage[utf8]{inputenc}  
\usepackage[T1]{fontenc}  
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage[french]{babel}
\usepackage{fancybox}
\usepackage{listings}
\usepackage{color}
\usepackage{tikz}
\usetikzlibrary{babel}
\usetikzlibrary{decorations.markings}
\usepackage{pgfplots}
\pgfplotsset{compat=1.17}
\pgfplotsset{samples=200}
\usepackage{graphicx,subfigure}
\usepackage[titletoc]{appendix}
\usepackage{float} % figures flottantes 
\usepackage{here} % figures flottantes
\usepackage{url}
\usepackage{enumitem}
\setlist[itemize]{label={$\bullet$}}
%\setlist[enumerate]{noitemsep, nolistsep}
\usepackage{xcolor}
\usepackage[colorlinks=true]{hyperref}
\usepackage{tabularx}
\usepackage{minted}
\usepackage[skins,breakable]{tcolorbox}
\usepackage{verbatim}
\usepackage[europeanresistors,siunitx]{circuitikz}
\usepackage{multicol}
\usepackage{physics}
\usepackage[outline]{contour} % glow around text
%\usetikzlibrary{intersections}
%\usetikzlibrary{decorations.markings}
\usetikzlibrary{angles,quotes} % for pic
\usetikzlibrary{bending} % for arrow head angle
\contourlength{1.0pt}
\usetikzlibrary{3d}
\usetikzlibrary{trees}
\usepackage{dirtytalk}

% --------------------------------------------------------------
% Title
% --------------------------------------------------------------
\makeatletter
\newcommand\maintitle[1]{
    \quitvmode
    \hb@xt@\linewidth{
        \dimen@=1ex
        \advance\dimen@-2pt
        \leaders\hrule \@height1ex \@depth-\dimen@\hfill
        \enskip
        \textbf{#1}
        \enskip
        \leaders\hrule \@height1ex \@depth-\dimen@\hfill
    }
}
\makeatother

\newcommand{\makeseancetitle}{
\begin{center}
    \Large
    \centering
    \maintitle{LELEC1930 - Introduction aux télécommunications}\\
    \textsc{\textbf{Séance \seancenumber{} - \seancetitle{}}}\\
    \vspace{0.1cm}
    \normalsize
    Prof. : Jérôme Louveaux \hfill Assist. : Jérome Eertmans\\
   \noindent\hrulefill
\end{center}
}

\newcommand{\makerappeltitle}{
\begin{center}
    \Large
    \centering
    \maintitle{LELEC1930 - Introduction aux télécommunications}\\
    \textsc{\textbf{Rappel - \seancetitle{}}}\\
    \vspace{0.1cm}
    \normalsize
    Prof. : Jérôme Louveaux \hfill Assist. : Jérome Eertmans\\
   \noindent\hrulefill
\end{center}
}

\usepackage{fancyhdr}
\fancypagestyle{firstpage}
{
   \cfoot{Page \thepage}
}
\fancypagestyle{nextpages}
{
    \lhead{Séance \seancenumber{}}
    \chead{\seancetitle}
    \rhead{LELEC1930}
    \cfoot{Page \thepage}
}
\fancypagestyle{rappelnextpages}
{
    \lhead{Rappel}
    \chead{\seancetitle}
    \rhead{LELEC1930}
    \cfoot{Page \thepage}
}

\setlength{\headheight}{13.59999pt}

% --------------------------------------------------------------
% Some parameters
% --------------------------------------------------------------
\oddsidemargin =0 mm
\topmargin = -10 mm
\footskip = 20mm
\textheight = 240 mm 
\textwidth = 160mm

% --------------------------------------------------------------
% Exercice environments
% --------------------------------------------------------------
\newcounter{exercice}

\definecolor{exercice_color}{RGB}{21,76,121}
\definecolor{exercice_color_fill}{RGB}{252,248,227}

\newcommand{\theexerciceref}{No reference}

\makeatletter
\newenvironment{exercice}[2][\texorpdfstring{\unskip}{}]
{
\refstepcounter{exercice}
\def\@currentlabel{{#2}}
\label{ref-exercice-\theexercice}
\addcontentsline{toc}{subsubsection}{{#2} #1}
\noindent
\flushleft
\begin{tikzpicture}
    \draw[very thick,exercice_color] (0,0) -- ++(0,+7.5pt)
    -- ++(\textwidth,0) node[midway,above] {\textbf{Exercice #2 : #1}}
    -- ++(0,-7.5pt);
\end{tikzpicture}
\vspace{-.3cm}
\begin{tcolorbox}[
    blanker,
    width=\textwidth,
    breakable]
}
{   \end{tcolorbox}
\vspace{-.4cm}
\flushleft
\begin{tikzpicture}
    \draw[very thick,exercice_color] (0,0) -- ++(0,-7.5pt)
    -- ++(\textwidth,0)
    -- ++(0,+7.5pt);
\end{tikzpicture}
}
\makeatother

\ifcsname AvecSolutions\endcsname
\newenvironment{reponse}
{
\noindent
\begin{tcolorbox}[
    colframe=exercice_color,
    colback=exercice_color_fill,
    coltitle=exercice_color_fill,  
    title=\centering\textbf{{\hypersetup{allcolors=white} Réponse à l'exercice \ref{ref-exercice-\theexercice} :}},
    breakable,
    width=\textwidth]
}
{   \end{tcolorbox}
}
\else
\newenvironment{reponse}{\comment}{\endcomment}
\fi


% --------------------------------------------------------------
% Code environments
% --------------------------------------------------------------
\usemintedstyle{borland}
\providecommand*{\listingautorefname}{Listing}

\newenvironment{python}
{\VerbatimEnvironment
\begin{minted}[
linenos,
% fontfamily=courier,
fontsize=\normalsize,
xleftmargin=21pt,
]{python}}
{\end{minted}}

\newcommand\py[1]{\mintinline{python}{#1}}

\newcommand\la[1]{\mintinline{latex}{#1}}

% Vertical line in matrices

\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

% Double underline
\def\doubleunderline#1{\underline{\underline{#1}}}
